{% extends 'music/base.html' %}

{% load i18n %}
{% load music_tags %}

{% block extra_head %}
<meta name="keywords" content="{% for tag in object.tags %}{{ tag }}{% endfor %}" />
{% if object.description %}
<meta name="description" content="{{ object.description|striptags|safe }}" />
{% else %}
<meta name="description" content="{% trans "Read details of artist" %} {{ object.name }}" />
{% endif %}
{% endblock %}

{% block head_title %}{% trans "Details of artist" %} {{ object.name }}{% endblock %}

{% block body %}
<h1>{{ object.name }} <span class="artist_rank">Ranked</span></h1> 
<div class="clear"></div>
<ul id="tab_artist" class="tab_artist fake_tabs">
    <li class="tab first {% if tab == 'overview' %}selected{% endif %}">
        <a class="" href="{% url music_artist_details_tab object|slugify 'overview' %}">
        {% trans "overview" %}
        </a>
    </li>
    <li class="tab {% if tab == 'music' %}selected{% endif %}">
        <a class="" href="{% url music_artist_details_tab object|slugify 'music' %}">
        {% trans "music" %}
        </a>
    </li>
    <li class="tab {% if tab == 'fans' %}selected{% endif %}">
        <a class="" href="{% url music_artist_details_tab object|slugify 'fans' %}">
        {% trans "fans" %}
        </a>
    </li>
    <li class="tab {% if tab == 'similar' %}selected{% endif %}">
        <a class="" href="{% url music_artist_details_tab object|slugify 'similar' %}">
        {% trans "similar artists" %}
        </a>
    </li>
    <li class="tab last {% if tab == 'events' %}selected{% endif %}">
        <a class="" href="{% url music_artist_details_tab object|slugify 'events' %}">
        {% trans "events" %}
        </a>
    </li>
</ul>

<div class="clear"></div>

{% if object.images.large %}
<img src="{{ object.images.large }}" alt="{{ object }}" class="avatar big left espace"/>
{% endif %}

{% if object.description %}
<p class="artist_descr">
{{ object.description|striptags|safe }}
</p>
<div class="clear"></div>
{% endif %}

{% if tab == 'overview' %}
    {% if object.tracks %}
    <h2 style="display:inline-block"> 
    <a href="{% url music_artist_details_tab object|slugify 'music' %}" title="{% trans 'more tracks' %}">
        {% trans "top tracks" %}
        <span class="trail_title">{% trans 'all tracks' %}</span>
    </a>
    </h2>
    <div style="clear:both"></div>
    
    {% render_tracks object.tracks %}
    {% endif %}
    
    <h2 style="display:inline-block">
        <a href="{% url music_artist_details_tab object|slugify 'similar' %}" title="{% trans 'all similar artists' %}">
            {% trans "similar artists" %}
            <span class="trail_title">{% trans 'all similar artists' %}</span>
        </a>
    </h2>
    <div style="clear:both"></div>

    <ul class="similar-artists">
        {% for artist in object.similar %}
        <li>
            <a href="{{ artist.get_absolute_url }}" class="tiptip" title="{{ artist.name }}">
                <img src="{{ artist.images.medium }}" alt="{{ artist.name }}" class="avatar medium"/>
                {{ artist.name }}
            </a>
        </li>
        {% endfor %}
    </ul>
{% endif %}

{% if tab == 'music' %}
<h2>{% trans 'music of artist' %} {{ object }}</h2>
{% render_tracks tracks %}
<hr style="background: rgb(221, 221, 221) none repeat scroll 0% 0%; height: 1px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;">
<div class="virtual pagination">
    {% for page in allPages %}
    <a class="page {% if page == currentPage %}selected ui_prevent ui_ignore{% endif %}" href="{{ request.path_info }}?page={{ page }}">{{ page }}</a>
    {% endfor %}
</div>

{% endif %}

{% if tab == 'fans' %}
{% endif %}

{% if tab == 'similar' %}
<h2>{% trans 'artists similar to' %} {{ object }}</h2>
 <ul class="similar-artists">
{% for artist in object.similar %}
    <li>
        <a href="{{ artist.get_absolute_url }}" class="tiptip" title="{% trans "details of artist" %} {{ artist }}">
            <img src="{{ artist.images.medium }}" alt="{{ artist }}" class="avatar medium"/>
            {{ artist }}
        </a>
    </li>
{% endfor %}
</ul>
{% endif %}

{% if tab == 'events' %}
<h2>{% trans 'events of artist' %} {{ object }}</h2>
{% for event in object.events %}
{{ event }} <br />
{% endfor %}
{% endif %}

{% endblock %}
